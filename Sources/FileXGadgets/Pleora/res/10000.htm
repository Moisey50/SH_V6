<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"><link rel="stylesheet" type="text/css" href="1001.css"><title>PtGrey2_0 gadget</title></head><body><table width="100%" id="table1" class="pagelike"><tr><th class="pg">PtGrey2_0 gadget</th></tr><tr><td height="113">&nbsp;<table id="table2" class="pagelike" width="100%"><tr><td height="113"><b>&nbsp;&nbsp; Input Formats:</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; transparent, used for software triggering<p><b>Outputs Formats:</b>&nbsp; CVideoFrame </p><p><b>Duplex Formats:</b>&nbsp;&nbsp;&nbsp; text </p><p><b>Location in gadget tree:</b> Captures\Video\capture for grouped by type or Video\Capture by default</p></td></tr></table><p></font>This gadget streams video captured in PG (Point Grey) camera with 2.X SDK driver software.</p><p>Video frames can be streamed via PG camera in the following methods: <ul><li>No trigger - in which the camera grabs frames according to the predetermined frame rate set in setup dialog. In this method, Trigger must be set to ‘Off’. </li><li>Hardware trigger - in which external hardware (controller) is connected to the camera and triggers the grabbing of frames. In this method, Trigger must be set to ‘On’ and ‘TriggerPolarity’ must be set to the appropriate value (Plus \ Minus) to enable the receiving of the DoGrab signal. </li><li>Software trigger - in which the camera grabs one frame per data packet received in input pin. In this method, Trigger must be set to ‘Off’. </li></ul><p>A complete command list of controllable gadget parameters could be obtained as text data packet from control pin as a response to text data packet containing the command ‘list’ sent to the same control pin. The value of a specific setup dialog parameter could be obtained as text data packet from control pin as a response to text data packet containing the command ‘get’ and the parameter’s namesent to the same control pin <ul><li>get VideoFormat - invokes the sending of ‘VideoFormat’ value to control pin. Possible values: 5, 15 where 5 = 640x480mono, 15 = CostumeVideoMode. </li><li>get FrameRate - invokes the sending of ‘FrameRate’ value to control pin. Possible values: 2 – 4, 6 where 2 = 7.5fps, 3 = 15fps, 4 = 30fps, 6 = 60fps. </li><li>get Brightness - invokes the sending of ‘Brightness’ value to control pin. Possible values: 0 - 255. </li><li>get Exposure - invokes the sending of ‘Exposure’ value to control pin. Possible values: 7 - 62. </li><li>get Gamma - invokes the sending of ‘Gamma’ value to control pin. Possible values: 0 \ 1. </li><li>get Pan - invokes the sending of ‘Pan’ value to control pin. Possible values: 0 - 112. </li><li>get Shutter - invokes the sending of ‘Shutter’ value to control pin. Possible values: 1 - 580. </li><li>get Gain - invokes the sending of ‘Gain’ value to control pin. Possible values: 16 - 64. </li><li>get Triggerdelay - invokes the sending of ‘Triggerdelay’ value to control pin. Possible values: 0 - 4,095. </li><li>get ROI - invokes the sending of ‘ROI’ value to control pin. Possible values: Xleft: 0 - image width, Ytop: 0 - image height, Xright: Xleft - image width, Ybottom: Ytop - image height. Note that ROI parameter appears only if format is set to ‘CostumeVideoMode’ and that it is relative to the full frame (for example, if ROI is set to (10, 10, 30, 30) and then set again to (10, 10, 30, 30), the same portion of the frame will be shown). </li><li>get Trigger - invokes the sending of ‘Trigger’ value to control pin. Possible values: 0 \ 1. </li><li>get TriggerPolarity - invokes the sending of ‘TriggerPolarity’ value to control pin. Possible values: 0 = Minus \ 1 = Plus. This parameter appears only if ‘Trigger’ is set to ‘On’. </li><li>get FrameInfo - invokes the sending of ‘FrameInfo’ value to control pin. Possible values: 0 = no additional information is sent with the frame / 1 = additional information is sent with the frame. </li></ul><p>The value of a specific setup dialog parameter can be altered as a response to text data packet containing the command ‘set’, the parameter’s name and its value received in control pin, for example: set Shutter (480) will set the Shutter parameter to 480. The list of parameters and their possible values is given above. <p><b>Gadget Setup has following option:</b></p><p>If camera is not connected or is not selected, dialog will be viewed as next</p><blockquote><p><img border="0" src="GIFS/1001.GIF" width="415" height="315"></p></blockquote><p>After camera selection the dialog automatically changed to the next form:</p><blockquote><p><img border="0" src="GIFS/1000.gif" width="411" height="316"></p><p>The controllable parameter list is below: </p><ol><li>Camera - sets the PG camera identifier (serial number) from which the video stream will be received. Possible values: serial numbers of all PG cameras connected to local machine are automatically loaded into the drop down menu for one camera selection. </li><li>VideoFormat - sets the number of bits in one pixel. Possible values: 640x480mono or CustomVideoMode </li><li>FrameRate - sets the number of grabbed frames per second. Possible values: 7.5 fps. \ 15 fps. \ 30 fps. \ 60 fps. This parameter appears only if resolution is set to 640x480mono. </li><li>Brightness - sets the constant to be added to pixel intensity. Possible values: 0 - 255<sup><a name="_ftnref1" title href="#_ftn1">[1]</a></sup>. </li><li>Exposure - sets the desired average pixel intensity of the frame. Functional only if Shutter or \ and Gain is \ are set automatically. Possible values: 7 - 62. </li><li>Gamma - use \ don’t use gamma correction (a method of non linear brightness correction aimed to clear up images). Possible values: 0 \ 1. </li><li>Pan - sets the horizontal shift of the image. This parameter appears only if resolution is set to 640x480mono. Possible values: 0 - 112 </li><li>Shutter - sets exposure time in units of 125 microseconds. Possible values: 1 - 580 </li><li>Gain - sets brightness amplification. Possible values: 16 - 64. Note that brightness increases pixel intensity by constant whereas gain increases it exponentially</li><li>Triggerdelay - sets delay between the time hardware trigger received and the time the frame was grabbed in microseconds. Possible values: 0 - 4,0995</li><li>ROI - sets the camera’s Region Of Interest (Xleft, Ytop, Xright, Ybottom). Possible values: Xleft: 0 - image width, Ytop: 0 - image height, Xright: Xleft - image width, Ybottom: Ytop - image height. All coordinates must divide by 4 without reminder (if they don’t, Stream Handler automatically changes them so that they do). In order to return to full frame, set the ROI to (-1, -1, -1, -1). Generally, the smaller the ROI rectangle, the greater the frame rate. Note that ROI parameter appears only if format is set to ‘CostumeVideoMode’ and that it is relative to the full frame (for example, if ROI is set to (10, 10, 30, 30) and then set again to (10, 10, 30, 30), the same portion of the frame will be shown). </li><li>Trigger - use \ don’t use hardware trigger (grab frame when an appropriate signal is received in camera). Possible values: on \ off. </li><li>TriggerPolarity - determines whether the grabbing of a frame will be done on the trigger signal’s rise time or drop time. This parameter appears only if Trigger is set to ‘On’. Possible value: Plus (rise front) \ Minus (fall front). </li><li>FrameInfo - determines whether additional information regarding the captured frame will be added to it (thus enabling, for example, the receiving of the frame’s ROI in ScriptRunner gadget which can, based on that information, set a different ROI for next frame and track an object). Frame info replaces information in the first row of each video frame. Description could be found in Point Grey cameras Technical Manuals. Possible values: On \ Off.</li></ol></blockquote><hr align="left" size="1" width="33%"><p><sup><a name="_ftn1" title href="#_ftnref1">[1]</a></sup> Checking the check box to the right of the value enables the automatic setting of the parameter by PG driver </p></td></tr></table></body></html>